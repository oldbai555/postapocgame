/**
 * @Author: zjj
 * @Date: 2025/11/12
 * @Desc: 通用 proto
**/

syntax = "proto3";

package pb3;

option go_package = "server/internal/protocol";

message ErrorData {
    int32 code = 1;
    string msg = 2;
}

message ItemSt {
    uint32 item_id = 1;
    uint32 count = 2;
    uint32 bind = 3;
}

message ItemAmount {
    uint32 item_type = 1; // 物品类型
    uint32 item_id = 2;   // 物品ID
    int64 count = 3;      // 数量
    uint32 bind = 4;      // 绑定标记：0=不绑定，1=绑定
}

// 实体数据
message EntitySt {
    uint64 hdl = 1;
    uint64 id = 2;
    uint32 et = 3; // 实体类型
    uint32 pos_x = 4; // 格子X坐标
    uint32 pos_y = 5; // 格子Y坐标
    uint32 scene_id = 6;
    uint32 fb_id = 7;
    uint32 level = 8;
    string show_name = 9;
    map<uint32, int64> attrs = 10;
    uint64 state_flags = 11;
}

message AttrSt {
    uint32 type = 1;
    int64 value = 2;
}


// 移动数据（用于广播移动开始）
message MoveData {
    int32 dest_px = 1; // 目标X坐标（像素坐标）
    int32 dest_py = 2; // 目标Y坐标（像素坐标）
}
